<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Leer Online</title>
<style>
body { margin:0; padding:0; background:#1c1a13; color:#f5e6c4; font-family: 'Garamond', serif; }
#viewer { width: 100%; height: 100vh; }
#controls { position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); z-index: 100; }
button { padding: 8px 12px; margin: 0 4px; font-size:14px; border-radius:6px; border:none; background:#b5884e; color:#fff; cursor:pointer; }
button:hover { background:#8b5f2c; }
</style>
<script src="/epubjs/epub.min.js"></script>
</head>
<body>
<div id="viewer"></div>
<div id="controls">
  <button id="prev">⬅ Anterior</button>
  <button id="next">Siguiente ➡</button>
</div>

<script>
const params = new URLSearchParams(window.location.search);
const bookId = params.get('id');
if(!bookId){ alert('No se encontró el libro'); }

const bookUrl = `https://drive.google.com/uc?export=download&id=${bookId}`;
const bookKey = `readPos_${bookId
